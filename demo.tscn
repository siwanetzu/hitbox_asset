[gd_scene load_steps=4 format=3 uid="uid://c6w8f7g6q5h4x"]

[ext_resource type="Script" path="res://hitbox_asset/dummy_target.gd" id="1_abcde"]
[ext_resource type="PackedScene" uid="uid://b254us4ewkxc6" path="res://hitbox_asset/hitbox.tscn" id="2_fghij"]

[sub_resource type="GDScript" id="GDScript_12345"]
script/source = "
extends Node2D

const Hitbox = preload(\"res://hitbox_asset/hitbox.tscn\")

func _input(event):
	if event.is_action_pressed(\"ui_accept\"):
		_attack()

func _attack():
	var hitbox_instance = Hitbox.instantiate()
	get_tree().current_scene.add_child(hitbox_instance)
	hitbox_instance.global_position = $Player.global_position + Vector2(50, 0)
"

[node name="Demo" type="Node2D"]

[node name="Player" type="Node2D" parent="."]
position = Vector2(200, 200)
script = SubResource("GDScript_12345")

[node name="Label" type="Label" parent="Player"]
offset_left = -50.0
offset_top = -50.0
offset_right = 50.0
offset_bottom = -27.0
text = "Press 'Space' or 'Enter' to attack"
horizontal_alignment = 1

[node name="DummyTarget" type="ColorRect" parent="."]
offset_left = 300.0
offset_top = 175.0
offset_right = 350.0
offset_bottom = 225.0
color = Color(0.2, 0.5, 0.8, 1)
script = ExtResource("1_abcde")